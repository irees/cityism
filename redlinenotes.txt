CREATE TABLE holc (ogc_fid integer, name varchar, description varchar, category varchar); SELECT AddGeometryColumn('holc', 'geom', 4326, 'POLYGON', 3);
INSERT INTO holc (ogc_fid, name, description, geom, category) SELECT ogc_fid, name, description, ST_Buffer(wkb_geometry,0.0), 'a' as category FROM "area a";
INSERT INTO holc (ogc_fid, name, description, geom, category) SELECT ogc_fid, name, description, ST_Buffer(wkb_geometry,0.0), 'b' as category FROM "area b";
INSERT INTO holc (ogc_fid, name, description, geom, category) SELECT ogc_fid, name, description, ST_Buffer(wkb_geometry,0.0), 'c' as category FROM "area c";
INSERT INTO holc (ogc_fid, name, description, geom, category) SELECT ogc_fid, name, description, ST_Buffer(wkb_geometry,0.0), 'd' as category FROM "area d";

CREATE TABLE tracts_holc AS (
  SELECT
    tracts.geoid10,
    ST_Area(tracts.geom) as tracts_area,
    SUM(ST_Area(ST_Intersection(tracts.geom, holc.geom))) as holc_area,
    SUM(CASE WHEN holc.category = 'a' THEN ST_Area(ST_Intersection(tracts.geom, holc.geom)) ELSE 0 END) as holc_a,
    SUM(CASE WHEN holc.category = 'b' THEN ST_Area(ST_Intersection(tracts.geom, holc.geom)) ELSE 0 END) as holc_b,
    SUM(CASE WHEN holc.category = 'c' THEN ST_Area(ST_Intersection(tracts.geom, holc.geom)) ELSE 0 END) as holc_c,
    SUM(CASE WHEN holc.category = 'd' THEN ST_Area(ST_Intersection(tracts.geom, holc.geom)) ELSE 0 END) as holc_d
  FROM
    tracts,
    holc
  WHERE 
    ST_Intersects(tracts.geom, holc.geom)
  GROUP BY 
    tracts.gid);